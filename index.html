<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>RUDI & HUZE</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      html,
      body {
        height: 100%;
        font-family: Inter, system-ui, Arial, sans-serif;
        background: #f6f7fb;
        color: #111;
      }

      .hero {
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(180deg, #ffffff 0%, #eef2ff 100%);
      }
      .hero .content {
        text-align: center;
      }
      .hero h1 {
        font-size: clamp(20px, 4vw, 40px);
        margin-bottom: 12px;
      }
      .hero p {
        opacity: 0.8;
      }

      .scroll-hint {
        position: fixed;
        left: 50%;
        transform: translateX(-50%);
        bottom: 28px;
        background: rgba(17, 24, 39, 0.95);
        color: #fff;
        padding: 10px 16px;
        border-radius: 999px;
        display: flex;
        gap: 10px;
        align-items: center;
        box-shadow: 0 6px 20px rgba(2, 6, 23, 0.12);
        z-index: 999;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.4s ease;
      }
      .scroll-hint.show {
        opacity: 1;
        pointer-events: auto;
      }
      .scroll-hint .icon {
        width: 22px;
        height: 22px;
        display: inline-grid;
        place-items: center;
        animation: bounce 1.4s infinite;
      }
      @keyframes bounce {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(6px);
        }
      }

      .anim-section {
        min-height: 120vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0 20px;
        background: linear-gradient(180deg, #f2f6ff 0%, #fff 100%);
      }
      .anim-stage {
        width: 100%;
        max-width: 1100px;
        height: 100vh;
        position: relative;
      }
      .img-left,
      .img-right {
        position: fixed; /* tetap di tengah layar vertikal */
        top: 50%;
        transform: translateY(-50%);
        width: 40vmin;
        max-width: 420px;
        aspect-ratio: 10/16;
        background-size: cover;
        background-position: center;
        border-radius: 12px;
      }
      .img-left {
        left: -50%;
      }
      .img-right {
        right: -50%;
      }

      .after {
        height: 100vh;
        background-image: url("tulisan.png");
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center;
        background-color: #fff;
      }

      @media (max-width: 1024px) {
        .img-left,
        .img-right {
          width: 35vmin;
          max-width: 350px;
        }
      }
      @media (max-width: 800px) {
        .img-left,
        .img-right {
          width: 60vmin;
          max-width: 300px;
        }
      }
      @media (max-width: 480px) {
        .img-left,
        .img-right {
          width: 70vw;
          max-width: 260px;
        }
      }
    </style>
  </head>
  <body>
    <section class="hero">
      <div class="content">
        <h1>Rudi & Huze</h1>
        <p>
          Asal kamu tau, kamu adalah salah satu anugerah terindah di hidupku.
        </p>
      </div>
    </section>

    <div id="scrollHint" class="scroll-hint" aria-hidden="true">
      <div class="icon">⤵️</div>
      <div class="text">Scroll ke bawah yaa cantik</div>
    </div>

    <section class="anim-section">
      <div class="anim-stage" id="animStage">
        <div
          class="img-left"
          id="imgLeft"
          style="background-image: url('pria.png')"
        ></div>
        <div
          class="img-right"
          id="imgRight"
          style="background-image: url('wanita.png')"
        ></div>
      </div>
    </section>

    <section class="after"></section>
    <!-- Tambahkan elemen audio di dalam body -->
    <audio id="bgMusic" preload="auto">
      <source src="bg-musik.mp3" type="audio/mpeg" />
      Browser Anda tidak mendukung elemen audio.
    </audio>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        gsap.registerPlugin(ScrollTrigger);

        const hint = document.getElementById("scrollHint");
        const left = document.getElementById("imgLeft");
        const right = document.getElementById("imgRight");
        const stage = document.getElementById("animStage");
        const music = document.getElementById("bgMusic");

        // scroll hint muncul
        window.addEventListener("load", () => {
          hint.classList.add("show");
          setTimeout(() => hint.classList.remove("show"), 3500);
        });

        // Fungsi untuk memutar lagu
        function playMusic() {
          // Pastikan lagu dimulai dari awal jika diputar ulang
          music.currentTime = 0;
          music.play().catch((err) => {
            console.warn(
              "Autoplay diblokir, pengguna harus berinteraksi dulu:",
              err
            );
          });
        }

        // Deteksi interaksi pertama: klik, scroll, atau sentuhan layar
        let musicPlayed = false;
        const startMusic = () => {
          if (!musicPlayed) {
            playMusic();
            musicPlayed = true;
            // Hapus listener agar tidak dipanggil berulang
            window.removeEventListener("scroll", startMusic);
            window.removeEventListener("click", startMusic);
            window.removeEventListener("touchstart", startMusic);
          }
        };
        window.addEventListener("scroll", startMusic);
        window.addEventListener("click", startMusic);
        window.addEventListener("touchstart", startMusic);

        // Timeline animasi horizontal
        gsap
          .timeline({
            scrollTrigger: {
              trigger: stage,
              start: "top top",
              end: "+=250%",
              scrub: 1,
              pin: true,
              anticipatePin: 1,
            },
          })
          .to(left, {
            left: "50%",
            xPercent: -48,
            ease: "power2.out",
            duration: 1,
          })
          .to(
            right,
            { left: "50%", xPercent: -52, ease: "power2.out", duration: 1 },
            0
          )
          .to(
            [left, right],
            { scale: 1.02, duration: 0.6, ease: "power1.out" },
            0.8
          );
      });
    </script>
  </body>
</html>
